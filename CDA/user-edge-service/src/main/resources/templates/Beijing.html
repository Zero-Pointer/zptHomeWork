<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>北京疫情</title>

    <!-- Bootstrap -->
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/charts.css" rel="stylesheet">

    <script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js"></script>
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
    <!-- 老陈引入的jquery -->
    <!-- <script src="http://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script> -->






    <!-- HTML5 shim 和 Respond.js 是为了让 IE8 支持 HTML5 元素和媒体查询（media queries）功能 -->
    <!-- 警告：通过 file:// 协议（就是直接将 html 页面拖拽到浏览器中）访问页面时 Respond.js 不起作用 -->
    <!--[if lt IE 9]>
    <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<div class="container-fluid">

    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <!-- 手机屏幕，隐藏右边三块-->
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/index">新冠疫情大数据分析</a>
            </div>
            <div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <!-- class="active" -->
                    <li><a href="/globe">世界</a></li>
                    <li><a href="/china">中国</a></li>
                    <li><a href="/beijing">北京</a></li>
                </ul>
            </div>
        </div>
    </nav>


    <div class="row contents">
        <div class="col-md-7 table_1">
            <div class="tog_page container-fluid">
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a href="#point" aria-controls="point" role="tab"
                                                              data-toggle="tab" class="tog_page_a">Point</a></li>
                    <li role="presentation"><a href="#color" aria-controls="color" role="tab" data-toggle="tab"
                                               class="tog_page_a">Color</a></li>
                    <li role="presentation"><a href="#d3" aria-controls="d3" role="tab" data-toggle="tab"
                                               class="tog_page_a">3D</a></li>
                </ul>

                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="point">
                        地图 1
                    </div>

                    <div role="tabpanel" class="tab-pane" id="color">
                        地图 2
                    </div>

                    <div role="tabpanel" class="tab-pane" id="d3">
                        地图 3
                    </div>
                </div>

            </div>
        </div>
        <div class="row col-md-5 table_2">
            <div class="col-md-2"></div>
            <div class="col-md-8 radar">
                <!-- 雷达图 -->
                <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                <div id="main" style="width: 600px;height:400px;"></div>
                <script type="text/javascript">
                    var myChart = echarts.init(document.getElementById('main'));

                    var radarData = []

                    $.ajax({
                        type: "get",
                        url: "Beijing.json",
                        dataType: "json",
                        success: function (result) {
                            $.each(result, function (index, item) {
                                console.log(item)
                                if (item["name"] == "丰台区") {
                                    option = {
                                        //背景
                                        backgroundColor: 'rgb(64,74,89)',
                                        //组件yi：图片下载查看数据
                                        toolbox: {
                                            show: true,
                                            feature: {
                                                dataView: { readOnly: false },
                                                restore: {},
                                                saveAsImage: {}
                                            }
                                        },
                                        //题目
                                        title: {
                                            text: '北京市疫情',
                                            textStyle: { color: ' #EFE3A4' }

                                        },
                                        tooltip: {},
                                        legend: {
                                            data: ['北京市疫情'],
                                            textStyle: { color: ' #EFE3A4' }
                                        },
                                        radar: {
                                            // shape: 'circle',
                                            name: {
                                                textStyle: {
                                                    color: 'rgb(221,107,102)',
                                                    backgroundColor: 'rgb(64,74,89)',
                                                    borderRadius: 3,
                                                    padding: [3, 5]
                                                }
                                            },
                                            indicator: [

                                                { name: 'infection rate', max: 2 },
                                                { name: 'cure rate ', max: 10 },
                                                { name: 'Government attention ', max: 10 },
                                                { name: 'Public attention ', max: 10 },
                                                { name: 'Comprehensive index', max: 10 }
                                            ]
                                        },
                                        series: [{
                                            name: '北京市疫情',
                                            type: 'radar',
                                            // areaStyle: {normal: {}},
                                            data: [
                                                {
                                                    // 这里错了，radarData是空的，应该这样写

                                                    value: item['radarList'],
                                                    name: '北京市疫情衡量指标'
                                                }
                                            ]
                                        }]
                                    }
                                    myChart.setOption(option)
                                };

                            });
                        }
                    })



                </script>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-12 line">
                <!-- 折线图 -->
                <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                <div id="main1" style="width: 100%;height:100%;"></div>
                <script type="text/javascript">
                    var myChart = echarts.init(document.getElementById('main'));

                    var radarData = []
                    var dateData = []

                    $.ajax({
                        type: "get",
                        url: "Beijing.json",
                        dataType: "json",
                        success: function (result) {
                            $.each(result, function (index, item) {
                                console.log(item)
                                if (item["name"] == "丰台区") {
                                    option = {
                                        //背景色
                                        //   backgroundColor: 'black',
                                        backgroundColor: 'rgb(64,74,89)',
                                        //工具栏一号保存恢复查看原来的数据
                                        toolbox: {
                                            show: true,
                                            feature: {
                                                //局域缩放
                                                dataZoom: {
                                                    yAxisIndex: "none"
                                                },
                                                dataView: {
                                                    readOnly: false
                                                },
                                                restore: {},
                                                saveAsImage: {}
                                            }
                                        },
                                        //标题
                                        title: {
                                            text: '北京市疫情',
                                            //字体颜色
                                            textStyle: { color: ' #EFE3A4' }

                                        },
                                        tooltip: {},
                                        legend: {
                                            data: ['确诊人数']
                                        },
                                        // 滑动组件
                                        dataZoom: [
                                            {
                                                type: 'slider',
                                                show: true,
                                                xAxisIndex: [0],
                                                start: 0,
                                                end: 100
                                            },

                                            {
                                                type: 'inside',
                                                xAxisIndex: [0],
                                                start: 0,
                                                end: 1000
                                            },
                                            {
                                                type: 'inside',
                                                yAxisIndex: [0],
                                                start: 0,
                                                end: 100
                                            }
                                        ],
                                        //线性图
                                        xAxis: {
                                            type: "category",
                                            data: item.date,
                                            minInterval: 3600 * 1000 * 24,
                                            axisLine: {
                                                lineStyle: {
                                                    color: 'rgba(221,107,102,1)'   //#E60026  #f5c518  rgb(221,107,102)
                                                }
                                            },
                                            //          axisLabel: {
                                            //         formatter: function(value, index) {
                                            //          return new Date(value).toLocaleTimeString();
                                            //      }
                                            //        }
                                        },
                                        yAxis: {
                                            type: 'value',
                                            axisLine: {
                                                lineStyle: {
                                                    color: 'rgba(221,107,102,1)'
                                                }
                                            }
                                        },
                                        series: [{
                                            data: item.confirmed,
                                            type: 'line',
                                            name: "确诊人数",
                                            lineStyle: {
                                                color: ' rgba(221,107,102,1)'
                                            },
                                            symbol: "circle",
                                            symbolSize: 5,
                                            itemStyle: { normal: { color: ' rgba(221,107,102,1)' } }
                                        }]
                                    }
                                    myChart.setOption(option)
                                };

                            });
                        }
                    })
                </script>


            </div>
        </div>
    </div>

</div>
</body>


</html>